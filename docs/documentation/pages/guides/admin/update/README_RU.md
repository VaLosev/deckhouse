---
title: Обновление
permalink: ru/admin/update/readme.html
lang: ru
---

вынрсим: 3 первых сценария
- диапазон версий, которые поддерживаем
- общая информация об автоматическом обновление - почему? зачем? что сделал DKP нового?

Deckhouse Kubernetes Platform предоставляет возможности управления запуском обновлений: от автоматического запуска при поступлении обновления в канал (early-access, stable, lts), включая такие инструменты как *окна обновлений*(ссылка), до полностью контролируемого режима, где обновления утверждаются [вручную](ссылка).
Процесс обновления осуществляется полностью [автоматически](ссылка), включая как инфраструктурные компоненты и ПО на узлах, так и всю высокоуровневую функциональность (платформа Kubernetes, аутентификация, мониторинг, журналирование, управление сертификатами, балансировка трафика, безопасность, виртуализация и др.).
Deckhouse Kubernetes Platform обеспечивает стабильность работы платформы и приложений при обновлениях, если выполнены условия отказаустойчевости: наличие более чем одной реплики и разрешения максимального количества недоступных реплик (PDB).
Для обеспечения обратной совместимости Deckhouse Kubernetes Platform применяет трёхкомпонентный подход: <!-- тудушка-->

* сохранение обратной совместимости между версиями;
* правила устаревания (deprecation policy);
* автоматическую блокировку запуска обновлений при возникновении проблем. 
Всегда поддерживается не менее [4 версий Kubernetes](ссылка). Информацию о всех версиях Deckhouse Kubernetes Platform можно найти в [списке релизов](https://github.com/deckhouse/deckhouse/releases) Deckhouse.

Сводную информацию о важных изменениях, об обновлении версий компонентов, а также о том, какие компоненты в кластере буду перезапущены в процессе обновления, можно найти в описании нулевой patch-версии релиза. Например, [v1.46.0](https://github.com/deckhouse/deckhouse/releases/tag/v1.46.0) для релиза v1.46 Deckhouse.

Подробный список изменений можно найти в Changelog, ссылка на который есть в каждом [релизе](https://github.com/deckhouse/deckhouse/releases).

Платформа поддерживает обновления в изолированных средах и при помощи [твердых носителей](ссылка).
Все эти возможности гарантируют предсказуемость обновления, обеспечивая баланс между свежестью и стабильностью.

Как только на установленном в кластере канале обновления появляется новая версия Deckhouse Kubernetes Platform:
- Загорается алерт `DeckhouseReleaseIsWaitingManualApproval`, если кластер использует ручной режим обновлений (параметр [update.mode](modules/002-deckhouse/configuration.html#parameters-update-mode) установлен в `Manual`).
- Появляется новый кастомный ресурс [*DeckhouseRelease*](modules/002-deckhouse/cr.html#deckhouserelease). Используйте команду `kubectl get deckhousereleases`, чтобы посмотреть список релизов. Если `DeckhouseRelease` новой версии находится в состоянии `Pending`, указанная версия еще не установлена. Возможные причины, при которых `DeckhouseRelease` может находиться в `Pending`:
  - Установлен ручной режим обновлений (параметр [update.mode](modules/002-deckhouse/configuration.html#parameters-update-mode) установлен в `Manual`).
  - Установлен автоматический режим обновлений и настроены [окна обновлений](modules/002-deckhouse/usage.html#конфигурация-окон-обновлений), интервал которых еще не наступил.
  - Установлен автоматический режим обновлений, окна обновлений не настроены, но применение версии отложено на случайный период времени из-за механизма снижения нагрузки на репозиторий образов контейнеров. В поле `status.message` ресурса `DeckhouseRelease` будет соответствующее сообщение.
  - Установлен параметр [update.notification.minimalNotificationTime](modules/002-deckhouse/configuration.html#parameters-update-notification-minimalnotificationtime) и указанное в нем время еще не прошло.

